<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
	
	
	
	<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	
	<style>
		.m30{
			margin:30px !important;
		}
		.p5{
			padding:5px !important;
		}
		.bgrdWhite{
			background-color: white !important;
			padding: 0;
		}
		.bgrdBrown{
			background-color: #665750 !important;
			color: white;
			padding: 1px 0 9px 0;
			text-align: center;
			margin-top: 0;
		}
		
		.bgrdBody{
			background: url("../images/photo_bg.jpg") no-repeat center center fixed;
			background-size: cover;
		}
		
		.minH{
			min-height:500px;
		}
		.minH2{
			min-height:288px;
		}
		.minH3{
			min-height:150px;
		}
		
		.lneHgtTd{
			line-height: 46px !important;
		}
	</style>
	
  </head>
  <body ng-app="realTime" class="bgrdBody">
	<nav class="navbar navbar-static-top navbar-dark bg-inverse p5" 
		style="background-color: #EBEBEB;"
		ng-controller="NavCtrl">
		
		<img style="float:left;" src="../images/Logo.png" width="55">
		<md-button class="md-primary navbar-brand" ng-href="/#/proyectos">Múuch' Wa'akun</md-button>
		
		<ul class="nav navbar-nav pull-right">
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/proyectos">Proyectos</md-button>
		  </li>
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="">{{ currentUser() }}</md-button>
		  </li>
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="" ng-click="logOut()">Log Out</md-button>
		  </li>
		  <li ng-hide="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/login">Log In</md-button>
		  </li>
		  <li ng-hide="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/register">Register</md-button>
		  </li>
		</ul>
	</nav>
  
	<div ng-hide="isLoggedIn()">
	<ui-view></ui-view>
    </div>

	<!-- Angular Material requires Angular.js Libraries -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
  
  <!-- Angular Router -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>

  <!-- Angular Material Library -->
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
  
  <!-- Custom Scripts -->
  <script src="/javascripts/realTimeApp.js"></script>
	
<script type="text/ng-template" id="/agregar-proyectos.html">
	<div class="container">
	
		<div class="row">
			<div class="col-md-4 col-md-offset-4 bgrdWhite">
				<div class="page-header bgrdBrown" >
					<h2>Agregar Proyectos</h2>
				</div>
			
				<form ng-submit="addProject()" class="m30">
					<div class="form-group">
					<input type="text" 
						placeholder="nombre" 
						ng-model="nombre"
						class="form-control"></input>
					</div>
					<div class="form-group">
					<input type="text" 
						placeholder="descripcion" 
						ng-model="descripcion"
						class="form-control"></input>
					</div>
					
					<md-button type="submit" class="md-raised md-primary">Crear Proyecto</md-button>
				</form>
			</div>
		</div>
		
	
	</div>
</script>
    
<script type="text/ng-template" id="/proyectos.html">
	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4>Proyectos</h4>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-4">
						<md-button class="md-primary" ng-href="/#/agregar-proyectos">Crear Nuevo Proyecto</md-button>
					</div>
					
					<div class="col-md-4">
						<table class="table table-striped">
							<thead>
							  <tr>
								<th>Nombre</th>
								<th>Descripcion</th>
								<th></th>
							  </tr>
							</thead>
							<tbody>
							  <tr ng-repeat="project in projects">
								<td class="lneHgtTd">{{project.nombre}}</td>
								<td class="lneHgtTd">{{project.descripcion}}</td>
								<td>
									<md-button class="md-primary" ng-href="#/proyecto/{{project._id}}">Abrir</md-button>
								</td>
							  </tr>
							</tbody>
						</table>
					
						
						
					</div>
				</div>
			</div>
		</div>
		
		
	</div>	
	
	
	</div>
</script>

<script type="text/ng-template" id="/proyecto.html">
	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3>
				  <span>
					{{project.nombre}}
				  </span>
					
				</h3>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								Área de trabajo (carpetas)
							</div>
							<div class="panel-body minH">

							</div>
						</div>
					</div>
					
					<div class="col-md-4">
						<div class="row minH2">
							<div class="panel panel-default">
								<div class="panel-heading">
									Área de edición
								</div>
								<div class="panel-body minH2">

								</div>
							</div>
						</div>
						<div class="row minH3">
							<div class="panel panel-default">
								<div class="panel-heading">
									Área de ejecución
								</div>
								<div class="panel-body minH3">

								</div>
							</div>
						</div>
					</div>
					
					<div class="col-md-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								Área de colaboración
							</div>
							<div class="panel-body minH">

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</script>


	
<script type="text/ng-template" id="/home.html">
  <div class="page-header" >
    <h1>Múuch' Wa'akun</h1>
  </div>

  <!-- rest of template -->
</script>
	
<script type="text/ng-template" id="/register.html">
  <div class="row">
	<div class="col-md-4 col-md-offset-4 bgrdWhite">
	  <div ng-show="error" class="alert alert-danger row">
		<span>{{ error.message }}</span>
	  </div>

	  <div class="page-header bgrdBrown" >
		<h2>Register</h2>
	  </div>
	  
	  <form ng-submit="register()"
		class="m30">
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Username"
		  ng-model="user.username"></input>
		</div>
		<div class="form-group">
		  <input type="password"
		  class="form-control"
		  placeholder="Password"
		  ng-model="user.password"></input>
		</div>
		<md-button type="submit" class="md-raised md-primary">Register</md-button>
	  </form>
    </div>
  </div>
</script>

<script type="text/ng-template" id="/login.html">
  <div class="row">
	<div class="col-md-4 col-md-offset-4 bgrdWhite">
  
	  <div ng-show="error" class="alert alert-danger row">
		<span>{{ error.message }}</span>
	  </div>

	  <div class="page-header bgrdBrown" >
		<h2>Log In</h2>
	  </div>
	  
	  <form ng-submit="logIn()"
		class="form-signin m30">
		
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Username"
		  ng-model="user.username"></input>
		</div>
		<div class="form-group">
		  <input type="password"
		  class="form-control"
		  placeholder="Password"
		  ng-model="user.password"></input>
		</div>
		
		<md-button type="submit" class="md-raised md-primary">Log In</md-button>
	  </form>
  
    </div>
  </div>
</script>
	
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.css">
	
	
	
	<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	
	<style>
		
	</style>
	
  </head>
  <body ng-app="realTime" class="bgrdBody">
	<nav class="navbar navbar-static-top navbar-dark bg-inverse p5" 
		style="background-color: #EBEBEB;"
		ng-controller="NavCtrl">
		
		<img style="float:left;" src="../images/Logo.png" width="55">
		<md-button class="md-primary navbar-brand" ng-href="/#/home">Múuch' Wa'akun</md-button>
		
		<ul class="nav navbar-nav pull-right">
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/proyectos">Proyectos</md-button>
		  </li>
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="">{{ currentUser() }}</md-button>
		  </li>
		  
		  <li ng-show="isLoggedIn()">
			<md-button class="md-primary" ng-href="" ng-click="logOut()">Log Out</md-button>
		  </li>
		  <li ng-hide="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/login">Log In</md-button>
		  </li>
		  <li ng-hide="isLoggedIn()">
			<md-button class="md-primary" ng-href="/#/register">Register</md-button>
		  </li>
		  <li ng-show="isLoggedIn()">
			<img src="../images/{{ currentAvatar() }}.png" width="55" />
		  </li>
		</ul>
	</nav>
  
	<div ng-hide="isLoggedIn()">
	<ui-view></ui-view>
    </div>

	<!-- Angular Material requires Angular.js Libraries -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>
  
  <!-- Angular Router -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>

  <!-- Angular Material Library -->
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc2/angular-material.min.js"></script>
  
  <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.2/ui-bootstrap.js"></script> -->
  
  	<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.10.0/ui-bootstrap-tpls.min.js"></script>
  
  <!-- Custom Scripts -->
  <script src="/javascripts/realTimeApp.js"></script>
	
<script type="text/ng-template" id="/agregar-proyectos.html">
	<div class="container">
	
		<div class="row">
			<div class="col-md-4 col-md-offset-4 bgrdWhite">
				<div class="page-header bgrdBrown" >
					<h2>Agregar Proyectos</h2>
				</div>
			
				<form ng-submit="addProject()" class="m30">
					<div class="form-group">
					<input type="text" 
						placeholder="nombre" 
						ng-model="nombre"
						class="form-control"></input>
					</div>
					<div class="form-group">
					<input type="text" 
						placeholder="descripcion" 
						ng-model="descripcion"
						class="form-control"></input>
					</div>
					
					<md-button type="submit" class="md-raised md-primary">Crear Proyecto</md-button>
				</form>
			</div>
		</div>
		
	
	</div>
</script>
    
<script type="text/ng-template" id="/proyectos.html">
	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h4>Proyectos</h4>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-4">
						<md-button class="md-primary" ng-href="/#/agregar-proyectos">Crear Nuevo Proyecto</md-button>
					</div>
					
					<div class="col-md-8">
						<table class="table table-striped">
							<thead>
							  <tr>
								<th>Nombre</th>
								<th>Descripcion</th>
								<th>Fecha Creación</th>
								<th></th>
								<th></th>
							  </tr>
							</thead>
							<tbody>
							  <tr ng-repeat="project in projects">
								<td class="lneHgtTd">{{project.nombre}}</td>
								<td class="lneHgtTd">{{project.descripcion}}</td>
								<td class="lneHgtTd">
								{{project.fechaCreacion | date:'yyyy-MM-dd HH:mm:ss'}}</td>
								<td>
									<md-button class="md-primary" ng-href="#/proyecto/{{project._id}}"
									ng-show="project._id">Abrir</md-button>
								</td>
								<td>
									<md-button class="md-warn" 
									ng-click="deleteProject(project._id)"
									ng-show="project._id">
									Eliminar</md-button>
									
								</td>
							  </tr>
							</tbody>
						</table>
					
						
						
					</div>
				</div>
			</div>
		</div>
		
		
	</div>	
	
	
	</div>
</script>

<script type="text/ng-template" id="/proyecto.html">
	<div class="container">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3>
				  <span>
					{{project.nombre}}
				  </span>
					
				</h3>
			</div>
			<div class="panel-body">
				<div class="row">
					<div class="col-md-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								Área de trabajo (carpetas)
							</div>
							<div class="panel-body minH">

							</div>
						</div>
					</div>
					
					<div class="col-md-4">
						<div class="row minH2">
							<div class="panel panel-default">
								<div class="panel-heading">
									Área de edición
								</div>
								<div class="panel-body minH2">

								</div>
							</div>
						</div>
						<div class="row minH3">
							<div class="panel panel-default">
								<div class="panel-heading">
									Área de ejecución
								</div>
								<div class="panel-body minH3">

								</div>
							</div>
						</div>
					</div>
					
					<div class="col-md-4">
						<div class="panel panel-default">
							<div class="panel-heading">
								Área de colaboración
							</div>
							<div class="panel-body minH">

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</script>


	
<script type="text/ng-template" id="/home.html">
	<div id="carouselHome">
      <carousel interval="myInterval" disable-animation="true">
        <slide ng-repeat="slide in slides" active="slide.active">
          <img ng-src="{{slide.image}}" width="1300" >
		  <div class="textoCarouselHome">
			<p> {{slide.text}} </p>
		  </div>
          <div class="carousel-caption">
            
          </div>
        </slide>
      </carousel>
	  
	  <!--<carousel interval="5000" disable-animation="true">
		  <slide ng-repeat="slide in slides">
			<img ng-src="{{slide.image}}" width="1000" height="300" style="margin:auto;">
		  </slide>
		</carousel> -->
    </div>
</script>
	
<script type="text/ng-template" id="/register.html">
  <div class="row">
	<div class="col-md-4 col-md-offset-4 bgrdWhite">
	  <div ng-show="error" class="alert alert-danger row">
		<span>{{ error.message }}</span>
	  </div>

	  <div class="page-header bgrdBrown" >
		<h2>Register</h2>
	  </div>
	  
	  <form ng-submit="register()"
		class="m30">
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Username"
		  ng-model="user.username"></input>
		</div>

		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Nombre Completo"
		  ng-model="user.nombreCompleto"></input>
		</div>
		
		<div class="form-group">
			<md-select ng-model="user.iconoAvatar">
			  <md-option ng-repeat="avatar in avatars" value="{{avatar.url}}">
				<img src="../images/{{avatar.url}}.png" width="25" height="25" />
			  </md-option>
			</md-select>
		</div>
		
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Nombre Institucion"
		  ng-model="user.nombreInstitucion"></input>
		</div>
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Correo Electrónico"
		  ng-model="user.correoElectronico"></input>
		</div>
		
		<div class="form-group">
		  <input type="password"
		  class="form-control"
		  placeholder="Password"
		  ng-model="user.password"></input>
		</div>
		<md-button type="submit" class="md-raised md-primary">Register</md-button>
	  </form>
    </div>
  </div>
</script>

<script type="text/ng-template" id="/login.html">
  <div class="row">
	<div class="col-md-4 col-md-offset-4 bgrdWhite">
  
	  <div ng-show="error" class="alert alert-danger row">
		<span>{{ error.message }}</span>
	  </div>

	  <div class="page-header bgrdBrown" >
		<h2>Log In</h2>
	  </div>
	  
	  <form ng-submit="logIn()"
		class="form-signin m30">
		
		<div class="form-group">
		  <input type="text"
		  class="form-control"
		  placeholder="Username"
		  ng-model="user.username"></input>
		</div>
		<div class="form-group">
		  <input type="password"
		  class="form-control"
		  placeholder="Password"
		  ng-model="user.password"></input>
		</div>
		
		<md-button type="submit" class="md-raised md-primary">Log In</md-button>
	  </form>
  
    </div>
  </div>
</script>
	
  </body>
</html>
